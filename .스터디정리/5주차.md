# 13장. 디폴트 메서드
디폴트 메서드 : 인터페이스는 규칙을 잡거나 서비스 플로우 로직을 잡는데 사용한다.

💥 문제점 : 인터페이스에 메서드 추가 시, 모든 구현체에서 메서드를 구현해야하므로 문제가 발생한다.

자바 프로그램에서 호환성 문제 : 바이너리 호환성, 소스 호환성, 동작 호환성

이 문제는 인터페이스에 메서드를 추가할 때, 바이너리 호환성과 동작 호환성은 지켜지지만, **소스 호환성 문제**가 발생한다.

이를 해결하기 위한 방법으로 자바 8의 디폴트 메서드가 있다.

**🌟** 해결책 : **디폴트 메서드**

인터페이스의 기본 구현을 제공할 수 있도록 해줌.

인터페이스에 디폴트 메서드를 추가하면 구현체에서 필수적으로 구현하지 않아도됨

→ 디폴트 메서드를 사용한다면 위 3가지 호환성을 유지하면서 라이브러리를 고칠 수 있다.

**Q.** 디폴트 메서드를 사용하면 인터페이스와 추상 클래스가 다를 바 없지 않나?

**A.** 클래스는 하나의 추상 클래스만 상속받을 수 있지만, 인터페이스는 여러개 구현 가능하다는 차이점이 있다.

더불어, 인터페이스는 변수를 가질 수 없다는 차이점이 있다.

책의 예제에선 메서드를 디폴트 메서드로 구현해서 사용하지 않는 클래스에서는 구현할 필요가 없어짐으로써 불필요한 코드가 제거되는 상황을 보여준다.

delegation (멤버변수)를 이용해서 클래스에서 필요한 메서드를 직접 호출하는 메서드를 작성하는 것이 좋다.

**Q.** 인터페이스를 다중상속 가능 → 같은 시그니처를 갖는 디폴트 메서드를 상속받는 상황에서는 어떻게 할까??

**A.** 서브 인터페이스가 높은 우선순위를 갖는다 (A를 상속받은 인터페이스 B가 우선권을 가진다.)

자바에서는 구체적인 것이 항상 높은 우선순위를 갖는다.

우선순위

1. **부모클래스에서 정의한 메서드**가 우선
2. **서브 인터페이스**가 그 다음
3. 이래도 우선순위가 결정되지 않으면 **override** 해야한다.

   명확한 명칭을 통해 지정해주기


### 총정리 : 디폴트 메서드 사용 이유

1. 후방 호환성 : 기존 인터페이스에 디폴트 메서드를 추가하면 구현체의 코드를 변경하지 않아도 된다.
2. 코드 중복 감소 : 여러 구현체에서 같은 메서드를 사용해야 할 때, 디폴트 메서드를 사용하면 코드의 중복을 줄일 수 있다.
3. 함수형 프로그래밍 지원

⇒ 디폴트 메서드는 인터페이스를 더 유연하게 확장할 수 있게 해주며, 기존 코드를 변경하지 않고도 새로운 기능을 추가할 수 있는 방법을 제공한다. 이는 코드를 더 깨끗하게 유지하고, 소프트웨어 유지보수를 간소화하는 데 도움이 된다.