# 4. μ¤νΈλ¦Ό μ†κ°
ν•™μµ λ©ν‘ : μ¤νΈλ¦Όμ κ°λ…, μ¤νΈλ¦Ό π† μ»¬λ ‰μ…

## 4-1. μ¤νΈλ¦Ό(Streams)μ΄λ€ λ¬΄μ—‡μΈκ°€?

> **: λ°μ΄ν„° μ²λ¦¬ μ—°μ‚°μ„ μ§€μ›ν•λ„λ΅ μ†μ¤μ—μ„ μ¶”μ¶λ μ—°μ†λ μ”μ†**
>
- νΉμ§•
    - μ—°μ†λ μ”μ† : νΉμ • μ”μ† ν•μ‹μΌλ΅ μ΄λ£¨μ–΄μ§„ μ—°μ†λ κ°’μ μ§‘ν•©
    - λ°μ΄ν„° μ†μ¤ : μ»¬λ ‰μ…, λ°°μ—΄, I/O μμ› λ“±μ μ†μ¤λ΅λ¶€ν„° λ°μ΄ν„°λ¥Ό μ†λΉ„ν•λ‹¤. μ†μ¤λ¥Ό μ¤νΈλ¦ΌμΌλ΅ λ§λ“¤ λ• μ”μ†μ μμ„λ” μ μ§€λλ‹¤.
    - λ°μ΄ν„° μ²λ¦¬ μ—°μ‚° : λ°μ΄ν„° μ΅°μ‘ μ—°μ‚°μ„ μν–‰ν•λ‹¤.  (`filter`, `sort`, `map`, `find`, `match`, `reduce` λ“±)
    - νμ΄ν”„λΌμ΄λ‹ (pipelining) : λ€λ¶€λ¶„μ μ¤νΈλ¦Ό μ—°μ‚°μ€ μ¤νΈλ¦Όμ„ λ°ν™ν•λ―€λ΅ μ¤νΈλ¦Ό μ—°μ‚°λΌλ¦¬ μ—°κ²°ν•΄μ„ μ»¤λ‹¤λ€ νμ΄ν”„λΌμΈμ„ κµ¬μ„±ν•  μ μλ‹¤.
    - λ‚΄λ¶€ λ°λ³µ

- μ»¬λ ‰μ… λ°μ΄ν„° λ°λ³µμ„ λ©‹μ§€κ² μ²λ¦¬ν•λ” κΈ°λ¥
- μ„ μ–Έν•μΌλ΅ μ»¬λ ‰μ… λ°μ΄ν„°λ¥Ό μ²λ¦¬ β†’ κ°„κ²°, κ°€λ…μ„±β¬†οΈ
    <details>
    <summary> μ„ μ–Έν• π† λ…λ Ήν• ν”„λ΅κ·Έλλ° </summary>
    
  - μ„ μ–Έν• ν”„λ΅κ·Έλλ° : ~~λ°©λ²•(X)~~ **μ–΄λ–¤ λ™μ‘**μ„ μν–‰ν• μ§€ μ§€μ • (**WHAT**)
  - λ…λ Ήν• ν”„λ΅κ·Έλλ° : forλ¬Έμ΄λ‚ if λ¬Έ λ“±μ„ μ‚¬μ©ν•μ—¬ **μ–΄λ–»κ²** λ™μ‘μ„ κµ¬ν„ν• μ§€ μ§€μ • (**HOW**)
    </details>

    
- λ©€ν‹°μ¤λ λ“ μ½”λ“ μ—†μ΄λ„ λ°μ΄ν„°λ¥Ό λ³‘λ ¬λ΅ μ²λ¦¬ν•  μ μμ. β†’ μ„±λ¥β¬†οΈ

- streams μμ 
    ```java
    Map<Dish.Type, List<Dish>> dishesByType = 
            menu.stream().collect(groupingBy(Dish::getType));
    ```

## 4-2. μ¤νΈλ¦Ό μ‹μ‘ν•κΈ°

λ©”μ„λ“

- `filter()`  ν•„ν„°λ§ : λλ‹¤λ¥Ό μΈμλ΅ λ°›μ•„ νΉμ • μ”μ†λ¥Ό μ¤νΈλ¦Όμ—μ„ μ μ™Έμ‹ν‚¨λ‹¤.
- `map()` μ¶”μ¶ : λλ‹¤λ¥Ό μΈμλ΅ λ°›μ•„ ν• μ”μ†λ¥Ό **λ‹¤λ¥Έ μ”μ†λ΅ λ³€ν™** or **μ •λ³΄ μ¶”μ¶**
- `limit()` μ¶•μ† : μ¤νΈλ¦Ό ν¬κΈ°λ¥Ό μ •ν•΄μ§„ κ°μ μ΄ν•λ΅ μ¶•μ† (μ„ μ°©μ)
- `collect()` : μ¤νΈλ¦Όμ— λ„μ λ μ”μ†λ¥Ό λ‹¤λ¥Έ ν•μ‹μΌλ΅ λ³€ν™

## 4-3. μ¤νΈλ¦Όκ³Ό μ»¬λ ‰μ…

κ³µν†µμ 

- μ—°μ†λ μ”μ† ν•μ‹μ κ°’μ„ μ €μ¥ν•λ” μλ£κµ¬μ΅°~~μ μΈν„°νμ΄μ¤λ¥Ό μ κ³µ~~

|  | μ»¬λ ‰μ…                                                               | μ¤νΈλ¦Ό |
| --- |-------------------------------------------------------------------| --- |
| μ£Όμ  | λ°μ΄ν„°                                                               | κ³„μ‚° |
| μ£Ό κΈ°λ¥ | μ”μ† μ €μ¥ λ° μ ‘κ·Ό μ—°μ‚°                                                     | ν‘ν„ κ³„μ‚°μ‹ (filter, sorted, map λ“±) |
| λ°μ΄ν„° κ³„μ‚° μ‹κΈ° | - ν„μ¬ μλ£κµ¬μ΅°κ°€ ν¬ν•¨ν•λ” λ¨λ“  κ°’μ„ λ©”λ¨λ¦¬μ— μ €μ¥ <br/>- μ»¬λ ‰μ…μ λ¨λ“  μ”μ†λ” μ»¬λ ‰μ…μ— μ¶”κ°€ν•κΈ° μ „μ— κ³„μ‚°λμ–΄μ•Ό ν•λ‹¤. | - κ³ μ •λ μλ£κµ¬μ΅° (μ¤νΈλ¦Όμ— μ”μ†λ¥Ό μ¶”κ°€ν•κ±°λ‚ μ κ±°ν•  μ μ—†λ‹¤)<br/>- μ”μ²­ν•  λ•λ§ μ”μ†λ¥Ό κ³„μ‚° |
| μ„±κ²© | μƒμ„±μ μ¤‘μ‹¬ <br/>- ν”κΈ°λ„ μ „μ— μ°½κ³ λ¥Ό κ°€λ“ μ±„μ›€ <br/>- μ κ·Ήμ  μƒμ„± : λ¨λ“  κ°’μ„ κ³„μ‚°ν•  λ•κΉμ§€ κΈ°λ‹¤λ¦Ό | μ”μ²­ μ¤‘μ‹¬ μ μ΅°, μ¦‰μ„ μ μ΅° <br/>- κ²μΌλ¥΄κ² λ§λ“¤μ–΄μ§€λ” μ»¬λ ‰μ… <br/>- κ²μΌλ¥Έ μƒμ„± : λ°μ΄ν„°λ¥Ό μ”μ²­ν•  λ•λ§ κ°’μ„ κ³„μ‚° |
| λ°μ΄ν„° λ°λ³µ μ²λ¦¬ λ°©λ²• | μ™Έλ¶€ λ°λ³µ | λ‚΄λ¶€ λ°λ³µ |
| μμ‹ | DVD | μΈν„°λ„· μ¤νΈλ¦¬λ°, λΈλΌμ°μ € μΈν„°λ„· κ²€μƒ‰ |

- μ¤νΈλ¦Όμ€ ν•λ²λ§ νƒμƒ‰/μ†λΉ„ν•  μ μλ‹¤.

|  | μ™Έλ¶€ λ°λ³µ (μ»¬λ ‰μ…) | λ‚΄λ¶€ λ°λ³µ                                                                                          |
| --- | --- |------------------------------------------------------------------------------------------------|
| μ–΄λ””μ—μ„ μ‚¬μ©λλ”κ°€ | μ»¬λ ‰μ… | μ¤νΈλ¦Ό                                                                                            |
| μ£Όμ²΄ | μ‚¬μ©μκ°€ μ§μ ‘ μ”μ† λ°λ³µ | μ¤νΈλ¦Όμ΄ μ•μ•„μ„ λ°λ³µμ„ μ²λ¦¬ν•κ³  μ €μ¥                                                                           |
| λ³‘λ ¬μ„± | λ³‘λ ¬μ„±μ„ μ¤μ¤λ΅ κ΄€λ¦¬ν•΄μ•Ό ν•λ‹¤. (ex. synchronized) | λ³‘λ ¬μ„± κµ¬ν„μ„ μλ™μΌλ΅ μ„ νƒν•λ‹¤.                                                                             |
| κΈ°νƒ€ νΉμ§• | - λ…μ‹μ μΌλ΅ μ»¬λ ‰μ… ν•­λ©μ„ ν•λ‚μ”© κ°€μ Έμ™€μ„ μ²λ¦¬ | - λ” μµμ ν™”λ λ‹¤μ–‘ν• μμ„λ΅ λ°μ΄ν„° μ²λ¦¬ <br/>- λ°λ³µμ„ μ¨κ²¨μ£Όλ” μ—°μ‚° λ¦¬μ¤νΈκ°€ λ―Έλ¦¬ μ •μλμ–΄ μμ–΄μ•Ό ν•λ‹¤. <br/>(ex. λλ‹¤ ν‘ν„μ‹μ„ μΈμλ΅ λ°›μ•„μ„ λ™μ‘ νλΌλ―Έν„°ν™”) |

![](../image/ch4-3-1.png)
![](../image/ch4-3-2.png)

## 4-4. μ¤νΈλ¦Ό μ—°μ‚°

### λ°μ΄ν„° μ†μ¤

- `stream()` λ©”μ„λ“λ¥Ό μ‚¬μ©ν•μ—¬ μ†μ¤μ—μ„ μ¤νΈλ¦Όμ„ μ–»λ”λ‹¤.

### μ¤‘κ°„ μ—°μ‚° (intermediate operation)

- μ„λ΅ μ—°κ²°λμ–΄ νμ΄ν”„λΌμΈμ„ ν•μ„±ν•λ‹¤.
- λ‹¤λ¥Έ **μ¤νΈλ¦Όμ„ λ°ν™**ν•λ‹¤.
- κ²μΌλ¥΄λ‹¤(lazy) β†’ μµμ ν™” ν¨κ³Ό

  **λ‹¨λ§ μ—°μ‚°μ΄ νμ΄ν”„λΌμΈμ„ μ‹¤ν–‰ν•κΈ° μ „κΉμ§€λ” μ•„λ¬΄ μ—°μ‚°λ„ μν–‰ν•μ§€ μ•λ”λ‹¤.**

  μ¤‘κ°„ μ—°μ‚°μ„ ν•©μΉ λ‹¤μμ— μµμΆ… μ—°μ‚°μ—μ„ ν•λ²μ— μ²λ¦¬ν•λ‹¤.

- μ¤‘κ°„ μ—°μ‚°μΌλ΅λ” μ–΄λ–¤ κ²°κ³Όλ„ μƒμ„±ν•  μ μ—†λ‹¤. (μ¤νΈλ¦Όμ μ”μ†λ¥Ό μ†λΉ„ν•μ§€ μ•λ”λ‹¤.)
- ex. `filter()`, `distinct()`, `limit()`, `map()`, `sorted()` λ“±

### μµμΆ… μ—°μ‚° (terminal operation)

- μ¤νΈλ¦Ό νμ΄ν”„λΌμΈμ„ μ‹¤ν–‰/μ²λ¦¬ν• λ‹¤μ λ‹«λ”λ‹¤.
- μ¤νΈλ¦Ό νμ΄ν”„λΌμΈμ—μ„ κ²°κ³Όλ¥Ό λ„μ¶ν•λ‹¤. (μ¤νΈλ¦Όμ μ”μ†λ¥Ό μ†λΉ„ν•΄μ„ μµμΆ… κ²°κ³Όλ¥Ό λ„μ¶ν•λ‹¤.)
- **μ¤νΈλ¦Όμ΄ μ•„λ‹ λ‹¤λ¥Έ μλ£ν•μ„ λ°ν™**ν•λ‹¤.

  `forEach()` κ°€ voidλ¥Ό λ°ν™ν•λ”κ² μ‹ κΈ°ν•λ‹¤.

- ex. `collect()`, `count()`, `forEach()` λ“±
